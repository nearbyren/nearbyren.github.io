<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    
    <title>lr</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="nearby, 移动开发, 用户体验, 设计, Java, JavaWeb, Go">
<meta property="og:type" content="website">
<meta property="og:title" content="lr">
<meta property="og:url" content="http://b.nearby.ren/index.html">
<meta property="og:site_name" content="lr">
<meta property="og:description" content="nearby, 移动开发, 用户体验, 设计, Java, JavaWeb, Go">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="lr">
<meta name="twitter:description" content="nearby, 移动开发, 用户体验, 设计, Java, JavaWeb, Go">
    

    
        <link rel="alternate" href="/atom.xml" title="lr" type="application/atom+xml">
    

    
        <link rel="icon" href="/css/images/super.png# path to favicon">
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>
</html>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">lr</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/">首页</a>
                
                    <a class="main-nav-link" href="/archives">目录</a>
                
                    <a class="main-nav-link" href="/categories">分类</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">关于</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png">
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索">
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么...">
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/">首页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">目录</a></td>
                
                    <td><a class="main-nav-link" href="/categories">分类</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索">
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png">
            <h2 id="name">lr</h2>
            <h3 id="title">Android server web Go</h3>
            <span id="location"><i class="fa fa-map-marker"></i>china, Hainan</span>
            <a id="follow" target="_blank" href="https://github.com/nearbyren">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                105
                <span>文章</span>
            </div>
            <div class="article-info-block">
                42
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/nearbyren" target="_blank" title="github">
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://twitter.com/" target="_blank" title="twitter">
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.facebook.com/" target="_blank" title="facebook">
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://dribbble.com/" target="_blank" title="dribbble">
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/atom.xml" target="_blank" title="rss">
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-kotlin data class 和 class 区别" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2023/11/30/kotlin data class 和 class 区别/">kotlin data class 和 class 区别</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2023/11/30/kotlin data class 和 class 区别/">
            <time datetime="2023-11-30T04:13:18.000Z" itemprop="datePublished">2023-11-30</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/kotlin/">kotlin</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/kotlin/">kotlin</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>kotlin data class 和 java class 区别</p>
<h1 id="使用限制"><a href="#使用限制" class="headerlink" title="使用限制"></a>使用限制</h1><p>  data class 必须要有带参数的构造方法 （Data class must have at least one primary constructor parameter）</p>
<p>  data class 不能被继承（Modifier ‘data’ is incompatible with ‘open’）</p>
<h1 id="实现区别"><a href="#实现区别" class="headerlink" title="实现区别"></a>实现区别</h1><h2 id="普通class"><a href="#普通class" class="headerlink" title="普通class"></a>普通class</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Nearby(val age: Int)</span><br><span class="line"></span><br><span class="line">//转成java</span><br><span class="line"></span><br><span class="line">public final class Nearby &#123;</span><br><span class="line">   private final int age;</span><br><span class="line"></span><br><span class="line">   public final int getAge() &#123;</span><br><span class="line">      return this.age;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public Nearby(int age) &#123;</span><br><span class="line">      this.age = age;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="data-class"><a href="#data-class" class="headerlink" title="data class"></a>data class</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">data class Nearby(val age: Int)</span><br><span class="line"></span><br><span class="line">//转成java</span><br><span class="line"></span><br><span class="line">public final class Nearby &#123;</span><br><span class="line">   private final int age;</span><br><span class="line"></span><br><span class="line">   public final int getAge() &#123;</span><br><span class="line">      return this.age;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public Nearby(int age) &#123;</span><br><span class="line">      this.age = age;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public final int component1() &#123;</span><br><span class="line">      return this.age;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @NotNull</span><br><span class="line">   public final Nearby copy(int age) &#123;</span><br><span class="line">      return new Nearby(age);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   // $FF: synthetic method</span><br><span class="line">   public static Nearby copy$default(Nearby var0, int var1, int var2, Object var3) &#123;</span><br><span class="line">      if ((var2 &amp; 1) != 0) &#123;</span><br><span class="line">         var1 = var0.age;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      return var0.copy(var1);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @NotNull</span><br><span class="line">   public String toString() &#123;</span><br><span class="line">      return &quot;Nearby(age=&quot; + this.age + &quot;)&quot;;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public int hashCode() &#123;</span><br><span class="line">      return Integer.hashCode(this.age);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public boolean equals(@Nullable Object var1) &#123;</span><br><span class="line">      if (this != var1) &#123;</span><br><span class="line">         if (var1 instanceof Nearby) &#123;</span><br><span class="line">            Nearby var2 = (Nearby)var1;</span><br><span class="line">            if (this.age == var2.age) &#123;</span><br><span class="line">               return true;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         return false;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">         return true;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>两相对比，data class比class 多实现了 toString()、hashCode()、equals()、copy()、componentN()方法。<br>hashCode()、equals()是用来比较对象内容是否相同，多用于HashMap等容器中；<br>toString()是用来打印对象内容；<br>copy()实现了复制功能；<br>componentN()提供了快速访问元素的功能。<br>从上面看data class的功能 class都能实现，data class只是是kotlin提供的具有常用数据model功能的类，用于提升开发效率。</p>
<p>一点拓展</p>
<p>data class 可以有普通变量吗？答案是可以，那普通变量和元素变量有何区别呢？看下面的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">data class Nearby(val age: Int) &#123;</span><br><span class="line">    var name = &quot;nearby&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">///转成java</span><br><span class="line"></span><br><span class="line">public final class Nearby &#123;</span><br><span class="line">   @NotNull</span><br><span class="line">   private String name;</span><br><span class="line">   private final int age;</span><br><span class="line"></span><br><span class="line">   @NotNull</span><br><span class="line">   public final String getName() &#123;</span><br><span class="line">      return this.name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public final void setName(@NotNull String var1) &#123;</span><br><span class="line">      Intrinsics.checkNotNullParameter(var1, &quot;&lt;set-?&gt;&quot;);</span><br><span class="line">      this.name = var1;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public final int getAge() &#123;</span><br><span class="line">      return this.age;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public Nearby(int age) &#123;</span><br><span class="line">      this.age = age;</span><br><span class="line">      this.name = &quot;nearby&quot;;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public final int component1() &#123;</span><br><span class="line">      return this.age;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @NotNull</span><br><span class="line">   public final Nearby copy(int age) &#123;</span><br><span class="line">      return new Nearby(age);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   // $FF: synthetic method</span><br><span class="line">   public static Nearby copy$default(Nearby var0, int var1, int var2, Object var3) &#123;</span><br><span class="line">      if ((var2 &amp; 1) != 0) &#123;</span><br><span class="line">         var1 = var0.age;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      return var0.copy(var1);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @NotNull</span><br><span class="line">   public String toString() &#123;</span><br><span class="line">      return &quot;Nearby(age=&quot; + this.age + &quot;)&quot;;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public int hashCode() &#123;</span><br><span class="line">      return Integer.hashCode(this.age);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   public boolean equals(@Nullable Object var1) &#123;</span><br><span class="line">      if (this != var1) &#123;</span><br><span class="line">         if (var1 instanceof Nearby) &#123;</span><br><span class="line">            Nearby var2 = (Nearby)var1;</span><br><span class="line">            if (this.age == var2.age) &#123;</span><br><span class="line">               return true;</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         return false;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">         return true;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

            
    
        <a href="http://b.nearby.ren/2023/11/30/kotlin data class 和 class 区别/#comments" class="article-comment-link">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-kotlin集合" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2023/09/30/kotlin集合/">Kotlin 集合</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2023/09/30/kotlin集合/">
            <time datetime="2023-09-30T04:20:20.000Z" itemprop="datePublished">2023-09-30</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/kotlin/">kotlin</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/kotlin/">kotlin</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="Kotlin-集合"><a href="#Kotlin-集合" class="headerlink" title="Kotlin 集合"></a>Kotlin 集合</h1><p>与Java集合类似，Kotlin 也引入了集合的概念。一个集合通常包含许多相同类型的对象，集合中的这些对象称为元素或项。 Kotlin 标准库提供了一组丰富的集合管理工具。</p>
<h2 id="集合类型"><a href="#集合类型" class="headerlink" title="集合类型"></a>集合类型</h2><p>在 Kotlin 中，集合分为两种形式。</p>
<p>1.不可变集合<br>2.可变集合</p>
<h1 id="1-不可变集合"><a href="#1-不可变集合" class="headerlink" title="1. 不可变集合"></a>1. 不可变集合</h1><p>这意味着它仅支持只读功能并且不能修改其元素。不可变集合及其对应的方法有：</p>
<ul>
<li>列表– listOf() 和 listOf()</li>
<li>集合– setOf()</li>
<li>地图– mapOf()</li>
</ul>
<p>列表——它是一个有序集合，我们可以通过使用索引来访问元素或项目——定义每个元素位置的整数。元素可以在列表中重复任意次数。我们不能在不可变列表中执行添加或删除操作。</p>
<h1 id="Kotlin-程序演示不可变列表："><a href="#Kotlin-程序演示不可变列表：" class="headerlink" title="Kotlin 程序演示不可变列表："></a>Kotlin 程序演示不可变列表：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">//  Kotlin</span><br><span class="line">// An example for immutable list</span><br><span class="line">fun main(args: Array) &#123;</span><br><span class="line">    val immutableList = listOf(&quot;Mahipal&quot;,&quot;Nikhil&quot;,&quot;Rahul&quot;)</span><br><span class="line">    // gives compile time error</span><br><span class="line">    // immutableList.add = &quot;Praveen&quot;</span><br><span class="line">    for(item in immutableList)&#123;</span><br><span class="line">        println(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出内容:</span><br><span class="line">Mahipal</span><br><span class="line">Nikhil</span><br><span class="line">Rahul</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fun main(args: Array) &#123;</span><br><span class="line">    // initialize with duplicate values</span><br><span class="line">      // but output with no repetition</span><br><span class="line">    var immutableSet = setOf(6,9,9,0,0,&quot;Mahipal&quot;,&quot;Nikhil&quot;)</span><br><span class="line">    // gives compile time error</span><br><span class="line">    // immutableSet.add(7)</span><br><span class="line">    for(item in immutableSet)&#123;</span><br><span class="line">        println(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出内容:</span><br><span class="line">6</span><br><span class="line">9</span><br><span class="line">0</span><br><span class="line">Mahipal</span><br><span class="line">Nikhil</span><br><span class="line"></span><br><span class="line">//  Java</span><br><span class="line">// An example for immutable map</span><br><span class="line">fun main(args : Array) &#123;</span><br><span class="line">    var immutableMap = mapOf(9 to &quot;Mahipal&quot;,8 to &quot;Nikhil&quot;,7 to &quot;Rahul&quot;)</span><br><span class="line">    // gives compile time error</span><br><span class="line">    // immutableMap.put(9,&quot;Praveen&quot;)</span><br><span class="line">    for(key in immutableMap.keys)&#123;</span><br><span class="line">        println(immutableMap[key])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出内容:</span><br><span class="line">Mahipal</span><br><span class="line">Nikhil</span><br><span class="line">Rahul</span><br></pre></td></tr></table></figure>
<p>Set - 它是无序元素的集合，也不支持重复元素。它是独特元素的集合。通常，集合元素的顺序没有显着影响。我们不能执行添加或删除操作，因为它是一个不可变的 Set。</p>
<p>演示不可变集的 Kotlin 程序：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">fun main(args: Array) &#123;</span><br><span class="line">    // initialize with duplicate values</span><br><span class="line">      // but output with no repetition</span><br><span class="line">    var immutableSet = setOf(6,9,9,0,0,&quot;Mahipal&quot;,&quot;Nikhil&quot;)</span><br><span class="line">    // gives compile time error</span><br><span class="line">    // immutableSet.add(7)</span><br><span class="line">    for(item in immutableSet)&#123;</span><br><span class="line">        println(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出内容:</span><br><span class="line">6</span><br><span class="line">9</span><br><span class="line">0</span><br><span class="line">Mahipal</span><br><span class="line">Nikhil</span><br><span class="line"></span><br><span class="line">Map – Map 键是唯一的，每个键只保存一个值，它是一组键值对。每个键都映射到一个值。值可以是重复的，但键应该是唯一的。地图用于存储两个对象之间的逻辑连接，例如，学生 ID 及其姓名。由于它是不可变的，它的大小是固定的，并且它的方法支持只读访问。</span><br><span class="line"></span><br><span class="line">Kotlin 程序演示不可变映射：</span><br><span class="line"></span><br><span class="line">// An example for immutable map</span><br><span class="line">fun main(args : Array) &#123;</span><br><span class="line">    var immutableMap = mapOf(9 to &quot;Mahipal&quot;,8 to &quot;Nikhil&quot;,7 to &quot;Rahul&quot;)</span><br><span class="line">    // gives compile time error</span><br><span class="line">    // immutableMap.put(9,&quot;Praveen&quot;)</span><br><span class="line">    for(key in immutableMap.keys)&#123;</span><br><span class="line">        println(immutableMap[key])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">输出内容:</span><br><span class="line">Mahipal</span><br><span class="line">Nikhil</span><br><span class="line">Rahul</span><br></pre></td></tr></table></figure>
<h1 id="2-可变集合"><a href="#2-可变集合" class="headerlink" title="2. 可变集合"></a>2. 可变集合</h1><p>它支持读取和写入功能。可变集合及其对应的方法有：</p>
<p>列表– mutableListOf()、arrayListOf() 和 ArrayList<br>集合——mutableSetOf()、hashSetOf()<br>映射– mutableMapOf()、hashMapOf() 和 HashMap</p>
<p>列表——由于可变列表支持读写操作，列表中声明的元素可以被删除或添加。</p>
<p>Kotlin 程序演示可变列表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">fun main(args : Array) &#123;</span><br><span class="line">    var mutableList = mutableListOf(&quot;Mahipal&quot;,&quot;Nikhil&quot;,&quot;Rahul&quot;)</span><br><span class="line">    // we can modify the element</span><br><span class="line">    mutableList[0] = &quot;Praveen&quot;</span><br><span class="line">    // add one more element in the list</span><br><span class="line">    mutableList.add(&quot;Abhi&quot;)</span><br><span class="line">    for(item in mutableList)&#123;</span><br><span class="line">        println(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出内容:</span><br><span class="line">Praveen</span><br><span class="line">Nikhil</span><br><span class="line">Rahul</span><br><span class="line">Abhi</span><br></pre></td></tr></table></figure>
<p>//Set – 可变 Set 支持读取和写入功能。我们可以轻松地从集合中添加或删除元素，它将保留元素的顺序。</p>
<p>Kotlin 程序演示可变集：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">fun main(args: Array) &#123;</span><br><span class="line">    var mutableSet = mutableSetOf(6,10)</span><br><span class="line">    // adding elements in set</span><br><span class="line">    mutableSet.add(2)</span><br><span class="line">    mutableSet.add(5)</span><br><span class="line">    for(item in mutableSet)&#123;</span><br><span class="line">        println(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出内容:</span><br><span class="line">6</span><br><span class="line">10</span><br><span class="line">2</span><br><span class="line">5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//Map – 它是可变的，因此它支持 put、remove、clear 等功能。</span><br><span class="line"></span><br><span class="line">Kotlin 程序来演示可变映射。</span><br><span class="line"></span><br><span class="line">fun main(args : Array) &#123;</span><br><span class="line">    var mutableMap = mutableMapOf(1 to &quot;Mahipal&quot;,2 to &quot;Nikhil&quot;,3 to &quot;Rahul&quot;)</span><br><span class="line">    // we can modify the element</span><br><span class="line">    mutableMap.put(1,&quot;Praveen&quot;)</span><br><span class="line">    // add one more element in the list</span><br><span class="line">    mutableMap.put(4,&quot;Abhi&quot;)</span><br><span class="line">    for(item in mutableMap.values)&#123;</span><br><span class="line">        println(item)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出内容:</span><br><span class="line">Praveen</span><br><span class="line">Nikhil</span><br><span class="line">Rahul</span><br><span class="line">Abhi</span><br></pre></td></tr></table></figure>
<h1 id="Kotlin语言中-集合的api中有很多强大的功能"><a href="#Kotlin语言中-集合的api中有很多强大的功能" class="headerlink" title="Kotlin语言中 集合的api中有很多强大的功能"></a>Kotlin语言中 集合的api中有很多强大的功能</h1><p>shuffled()的函数可以对集合进行洗牌（类似于扑克牌的洗牌），这样吧每次可以获取到不同的数据，可以很容易实现类似于首页随机推荐几条数据的功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//运行以下函数</span><br><span class="line">fun main(args:Array&lt;String&gt;)&#123;</span><br><span class="line">    val list = mutableListOf&lt;String&gt;(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;)</span><br><span class="line">    list.shuffled().take(3).forEach &#123;</span><br><span class="line">        print(it.toString())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

            
    
        <a href="http://b.nearby.ren/2023/09/30/kotlin集合/#comments" class="article-comment-link">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-组件化架构图" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2021/06/08/组件化架构图/">组件化架构图</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2021/06/08/组件化架构图/">
            <time datetime="2021-06-08T08:03:12.000Z" itemprop="datePublished">2021-06-08</time>
        </a>
    </div>


                        
                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>xx_android 是单一工程模式，所有业务功能都是集中在同一个工程里实现的，业务模块以package方式进行组织。</p>
<p><img src="/2021/06/08/组件化架构图/../../../../images/11893582-.webp" alt="单一工程"></p>
<ol>
<li>合代码经常发生冲突。</li>
<li>代码严重耦合，新人学习成本高，迭代和维护成本大，功能经常发生衰退。</li>
<li>改了一行代码 或只调了一点UI，就要run整个项目，编译时间效率低。</li>
<li>多人团队协作效率低效。</li>
</ol>
<h1 id="组件化介绍"><a href="#组件化介绍" class="headerlink" title="组件化介绍"></a>组件化介绍</h1><h2 id="1-模块化"><a href="#1-模块化" class="headerlink" title="1. 模块化"></a>1. 模块化</h2><ol>
<li>module与模块基本一个概念，就是原本app模块承载了所有的功能。</li>
<li>模块化就是拆分成多个模块放在不同的module里面，每个功能代码都在自己所属的module中添加。</li>
<li>通常情况都会有基础模块module_commom,主要提供baseActivity,baseFragment,http,图片加载等基础能力，然后每个业务模块都会依赖module_commom模块。</li>
<li>毋庸置疑业务模块之间也需要相互依赖。例如：‘首页’、‘订单’、‘我的’、‘优惠券’、都需要跳转到‘油站详情’的，必须依赖‘油站详情’，而‘油站详情’需要选择优惠券能力，也得需要依赖‘优惠券’。</li>
<li>那么模块之间的存在复杂的依赖关系。</li>
</ol>
<p><img src="/2021/06/08/组件化架构图/../../../../images/11893582-.webp" alt="模块化"></p>
<p>模块化 在各个业务功能比较独立的情况下是比较合理的，但多个模块中肯定会有页面跳转、数据传递、方法调用 等情况，所以必然存在以上这种依赖关系，即模块间有着高耦合度。 高耦合度 加上 代码量大，就极易出现上面提到的那些问题了，严重影响了团队的开发效率及质量。</p>
<h2 id="2-组件化"><a href="#2-组件化" class="headerlink" title="2. 组件化"></a>2. 组件化</h2><p>   组件化，去除模块间的耦合，使得每个业务模块可以独立当做App存在，对于其他模块没有直接的依赖关系。 此时业务模块就成为了业务组件。<br>   除了业务组件，还有抽离出来的业务基础组件，是提供给业务组件使用，但不是独立的业务，例如分享组件、广告组件；还有基础组件，即单独的基础功能，与业务无关，例如 图片加载、网络请求等。</p>
<p><img src="/2021/06/08/组件化架构图/../../../../images/11893582-.webp" alt="组件化"></p>
<ol>
<li>组件依赖关系上层依赖下层，修改频率是上层高于下层</li>
<li>基础组件是通用基础能力，修改频率相对于低，作为sdk提供所有的项目集成使用。</li>
<li>common组件，作为支撑业务组件、业务基础服务的基础（BaseActivity/BaseFragment等基础能力），同时依赖所有的功能基础组件，提供多数业务组件需要的基本功能，并且统一了基础组件的版本号。所以业务组件、业务基础服务 所需的基础能力只需要依赖common组件即可获得。</li>
<li>业务组件、业务基础服务，都依赖common组件。但业务组件之间不存在依赖关系，业务基础服务之间不存在依赖关系。而业务组件 是依赖所需的业务基础组件的，例如几乎所有业务组件都会依赖广告组件 来展示Banner广告、弹窗广告等。</li>
<li>最上层则是主工程，即所谓的“壳工程”，主要是集成所有的业务组件、提供Application唯一实现、gradle、manifest配置，整合成完备的App</li>
</ol>
<h1 id="组件开发规范"><a href="#组件开发规范" class="headerlink" title="组件开发规范"></a>组件开发规范</h1><ul>
<li>规范1：资源命名规则</li>
</ul>
<p><img src="/2021/06/08/组件化架构图/../../../../images/11893582-.webp" alt="展示项目资源图"></p>
<ol>
<li><p>所有的资源文件名称都需要以业务组件名前缀命名，需要注意不能与其他组件前缀冲突，例如业务组件名为：’login’，则相关资源文件命名例子:</p>
<ul>
<li>layout文件：login_activity_main.xml</li>
<li>anim文件：login_anmin_hide.xml</li>
<li>drawable文件：login_et_bg.xml</li>
<li>string文件：login_mobile_input</li>
</ul>
<p>还需要在build.gradle文件配置,<br>//但是resourcePrefix这个值只能限定xml里面的资源，并不能限定图片资源，所有图片资源仍然需要手动去修改资源名。<br>resourcePrefix “login_”</p>
</li>
<li><p>所有的业务代码文件都需要以业务名称前缀命名,需要注意不能与其他组件业务代码前缀冲突,例如业务组件名称:’order’</p>
<ul>
<li>订单列表：orderList.kt</li>
<li>订单详情：orderDetail.kt</li>
</ul>
</li>
</ol>
<ul>
<li><p>规范2:组件间通信</p>
<ol>
<li>平时开发中我们常用接口进行解耦，对接口的实现不用关心，避免接口调用与业务逻辑实现紧密关联。这里组件间的解耦也是相同的思路，仅依赖和调用服务接口，不会依赖接口的实现</li>
</ol>
</li>
</ul>
<p><img src="/2021/06/08/组件化架构图/../../../../images/11893582-.webp" alt="展示暴露服务api"></p>
<ul>
<li>暴露组件，只存放服务接口、服务接口相关的实体类、路由信息、Fragment的获取、便于服务调用uitl等。</li>
<li>服务调用方只依赖服务提供方的报露组件，接口的具体实现由服务方与调用相互协调后，提供工具让调用方直接调用。如home_module依赖login_export，而不是home_module依赖login_module。</li>
<li>组件需要依赖自己暴露的组件，并实现服务接口，如login_module依赖login_cart 并实现其中的服务接口。</li>
<li>接口的实现注入由阿里ARouter路由框架完成，和页面跳转一样使用路由信息。</li>
</ul>
<p> 示例代码：</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line"></span><br><span class="line">    repositories &#123;</span><br><span class="line">        maven&#123; url &apos;http://maven.aliyun.com/nexus/content/groups/public/&apos;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">        classpath &apos;com.android.tools.build:gradle:3.2.1&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        maven&#123; url &apos;http://maven.aliyun.com/nexus/content/groups/public/&apos;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">task clean(type: Delete) &#123;</span><br><span class="line">    delete rootProject.buildDir</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>规范3：数据存储</p>
<ol>
<li>使用SharedPreferences和MMKV时，每个业务模块只管理自己模块需要的数据，SharedPreferences文件名需要通过业务前缀来区分，MMKV实例（MMKV.mmkvWithID）需要通过业务前缀来区分,防止不同组件间数据发生冲突</li>
<li>当某些数据需要全局共享时，可以考虑下沉到底层模块</li>
</ol>
</li>
</ul>
<ul>
<li>规范4：组件生命周期分发</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">task clean(type: Delete) &#123;</span><br><span class="line">    delete rootProject.buildDir</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>规范5：开发文档</p>
<ol>
<li><p>每个组件都要维护好说明文档，通常都是一个readme文件。一般包含以下说明：</p>
</li>
<li><p>组件的功能介绍</p>
</li>
<li><p>组件功能使用说明</p>
</li>
<li><p>组件历史版本记录</p>
</li>
<li><p>注意事项</p>
<p>尽量做到团队内任何一个成员，通过该文档就能使用组件，而不需要找到组件的开发人员来讲解。</p>
</li>
</ol>
</li>
</ul>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

            
    
        <a href="http://b.nearby.ren/2021/06/08/组件化架构图/#comments" class="article-comment-link">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-mac flutter 支持多个版本配置" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2021/05/31/mac flutter 支持多个版本配置/">mac flutter 支持多个版本配置</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2021/05/31/mac flutter 支持多个版本配置/">
            <time datetime="2021-05-31T01:47:42.000Z" itemprop="datePublished">2021-05-31</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/android/">android</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/android/">android</a>, <a class="tag-link" href="/tags/flutter/">flutter</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>首先从官方下载需要的版本<br><a href="https://flutter.dev/docs/development/tools/sdk/releases?tab=macos#macos" target="_blank" rel="noopener">https://flutter.dev/docs/development/tools/sdk/releases?tab=macos#macos</a><br>1.将下载的放在自己存放的目录 例如我的如下<br><img src="/2021/05/31/mac flutter 支持多个版本配置/../../../../images/iShot2021-09-2512.10.30.png" alt="Alt text"></p>
<p>2.配置Flutter环境变量<br> 终端打开 执行 open ~/.bash_profile  打开bash_profile文件</p>
<p> 将文件中的：export PATH=/xx/xx/flutter/bin:$PATH   [xx代表你的文件目录]</p>
<p> 改成需要配置的flutter版本地址：export PATH=/xx/xx/flutter1.20.0/bin:$PATH</p>
<p> 然后执行：source ~/.bash_profile</p>
<p>最后检测flutter是否设置成功：flutter doctor</p>
<p>此处红框位置Flutter (Channel stable, 1.20.0, on macOS 11.4 20F71, locale zh-Hans-CN）<br>此处是bash_profile配置好的版本的话代表版本安装成功。</p>
<p><img src="/2021/05/31/mac flutter 支持多个版本配置/../../../../images/iShot2021-09-2512.21.46.png" alt="Alt text"></p>
<p>3.打开 Android studio 配置flutter版本和dart版本</p>
<p><img src="/2021/05/31/mac flutter 支持多个版本配置/../../../../images/iShot2021-09-2512.25.42.png" alt="Alt text"><br><img src="/2021/05/31/mac flutter 支持多个版本配置/../../../../images/iShot2021-09-2512.25.18.png" alt="Alt text"></p>
<p>4.执行pubspec.yaml 的package get 更新一下库，若不报错，即更新完成<br>至此，flutter更新完成。若想使用低版本，把以上地址都改回去，然后package get一下即可。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

            
    
        <a href="http://b.nearby.ren/2021/05/31/mac flutter 支持多个版本配置/#comments" class="article-comment-link">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-Fragment的FragmentTransaction" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2021/05/17/Fragment的FragmentTransaction/">Android 7.0以上 charles OpenSSLhttps抓包</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2021/05/17/Fragment的FragmentTransaction/">
            <time datetime="2021-05-17T01:12:11.000Z" itemprop="datePublished">2021-05-17</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Fragment/">Fragment</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Android/">Android</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>Fragment中的 Fragment的FragmentTransaction 对应<br>commit()和commitAllowingStateLoss()以及commitNow()和commitNowAllowingStateLoss()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">fragmentManager = getSupportFragmentManager();</span><br><span class="line"></span><br><span class="line">    　　lifeFragment1 = new FragmentLife();</span><br><span class="line">        Bundle bundle = new Bundle();</span><br><span class="line">        bundle.putString(&quot;extra_test&quot;, &quot;FragmentLife1&quot;);</span><br><span class="line">        lifeFragment1.setArguments(bundle);</span><br><span class="line"></span><br><span class="line">        //其实是通过FragmentManagerImpl获取一个BackStackRecord，</span><br><span class="line">//        只能在activity存储它的状态（onSaveInstanceState(),当用户要离开activity时）之前调用commit()，如果在存储状态之后调用commit()，将会抛出一个异常。</span><br><span class="line">//        这是因为当activity再次被恢复时commit之后的状态将丢失。如果丢失也没关系，那么使用commitAllowingStateLoss()方法。</span><br><span class="line">//        commit和CommitNow都会抛出异常，如果在onSaveInstanceState()后执行的话。allowStateLoss=false，方法后面会执行检查checkStateLoss（），就是已经保存状态或stop的就会抛出异常IllegalStateException</span><br><span class="line">//        commitNow不允许addToBackStack，commitNow是不允许加入BackStack中去的，会将mAddToBackStack标志设置为false</span><br><span class="line"></span><br><span class="line">        //class BackStackRecord extends FragmentTransaction implements BackStackEntry, OpGenerator</span><br><span class="line">        FragmentTransaction transaction = fragmentManager.beginTransaction();</span><br><span class="line">        transaction.add(R.id.fragment_container, lifeFragment1);</span><br><span class="line">//        transaction.addToBackStack(&quot;frag1&quot;); //设置BackStackRecord的mAddToBackStack标志为true</span><br><span class="line">        //int类型的返回值，而commitNow是void类型返回值。</span><br><span class="line">        transaction.commit();</span><br><span class="line">        transaction.commitAllowingStateLoss();</span><br><span class="line">        //同commit一样调用内部的commitInternal（）方法，只不过传递的参数不同，commitAllowStateLoss的allowStateLoss是true，允许丢失状态不做检查，所以不会抛异常。</span><br><span class="line">        //commit、commitAllowingStateLoss调用了FragmentManagerImpl.enqueueAction的方法，丢进线程队列中</span><br><span class="line"></span><br><span class="line">        transaction.commitNow();</span><br></pre></td></tr></table></figure>
<p>这段代码我们经常写，会很熟悉。但有时我们可能会碰到一个异常，信息如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.IllegalStateException: Can not perform this action after onSaveInstanceState</span><br></pre></td></tr></table></figure>
<p>大意是在activity的onSaveInstanceState调用后再commit的Transaction导致的异常。为了不抛出异常有人建议使用commitAllowingStateLoss来代替commit。</p>
<p>那么commit和commitAllowingStateLoss有什么区别？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public int commit() &#123;</span><br><span class="line">    return commitInternal(false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public int commitAllowingStateLoss() &#123;</span><br><span class="line">    return commitInternal(true);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  commit和commitAllowingStateLoss都调用了commitInternal()方法，只是一个传了false，一个传了true，接着往下看：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">int commitInternal(boolean allowStateLoss) &#123;</span><br><span class="line">    if (mCommitted) &#123;</span><br><span class="line">        throw new IllegalStateException(&quot;commit already called&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    ......</span><br><span class="line">    mCommitted = true;</span><br><span class="line">    if (mAddToBackStack) &#123;</span><br><span class="line">        mIndex = mManager.allocBackStackIndex(this);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        mIndex = -1;</span><br><span class="line">    &#125;</span><br><span class="line">    mManager.enqueueAction(this, allowStateLoss);</span><br><span class="line">    return mIndex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>主要是mManager.enqueueAction(this, allowStateLoss)来执行这个任务，根据传入的参数继续往下走，可以看到：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public void enqueueAction(Runnable action, boolean allowStateLoss) &#123;</span><br><span class="line">    if (!allowStateLoss) &#123;</span><br><span class="line">        checkStateLoss();</span><br><span class="line">    &#125;</span><br><span class="line">    synchronized (this) &#123;</span><br><span class="line">        if (mDestroyed || mHost == null) &#123;</span><br><span class="line">            throw new IllegalStateException(&quot;Activity has been destroyed&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        if (mPendingActions == null) &#123;</span><br><span class="line">            mPendingActions = new ArrayList&lt;Runnable&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        mPendingActions.add(action);</span><br><span class="line">        if (mPendingActions.size() == 1) &#123;</span><br><span class="line">            mHost.getHandler().removeCallbacks(mExecCommit);</span><br><span class="line">            mHost.getHandler().post(mExecCommit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看到最开始传进来的allowStateLoss在这里只做了检查状态的操作；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">private void checkStateLoss() &#123;</span><br><span class="line">    if (mStateSaved) &#123;</span><br><span class="line">         throw new IllegalStateException(&quot;Can not perform this action after onSaveInstanceState&quot;);</span><br><span class="line">     &#125;</span><br><span class="line">     if (mNoTransactionsBecause != null) &#123;</span><br><span class="line">         throw new IllegalStateException(&quot;Can not perform this action inside of &quot; + mNoTransactionsBecause);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p> 如果activity的状态被保存了，这里再提交就会检查这个状态，符合这个条件就抛出一个异常来终止应用进程。也就是说在activity调用了onSaveInstanceState()之后，再commit一个事务就会出现该异常。那如果不想抛出异常，也可以很简单调用commitAllowingStateLoss()方法来略过这个检查就可以了，但是这是危险的，如果activity随后需要从它保存的状态中恢复，这个commit是会丢失的。因此它仅仅适用在ui状态的改变对用户来说是可以接受的，允许丢失一部分状态。</p>
<p>总结：</p>
<p>1.在Activity的生命周期方法中提交事务要小心，越早越好，比如onCreate。尽量避免在onActivityResult()方法中提交。<br>2.避免在异步的回调方法中执行commit，因为他们感知不到当前Activity生命周期的状态。<br>3.使用commitAllowingStateLoss()代替commit()。相比于异常crash，UI状态的改变对用户来说是可以接受的。<br>4.如果你需要在Activity执行完onSaveInstanceState()之后还要进行提交，而且不关心恢复时是否会丢失此次提交，那么可以使用commitAllowingStateLoss()或commitNowAllowingStateLoss()。</p>
<p>2、 commitNow以及commitNowAllowingstateLoss()</p>
<p>在API_24版本FragmentTranslation里添加了该两个方法：</p>
<pre><code>下面拿commitNow为例：
</code></pre> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> 　　public void commitNow() &#123;</span><br><span class="line">     this.disallowAddToBackStack();</span><br><span class="line">     this.mManager.execSingleAction(this, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 该方法不支持加入BackStack回退栈中，disallowAddToBackStack()。</p>
<p>　　源码没有再使用Handler，而是直接执行（源码如下）</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public void execSingleAction(FragmentManagerImpl.OpGenerator action, boolean allowStateLoss) &#123;</span><br><span class="line">        if (!allowStateLoss || this.mHost != null &amp;&amp; !this.mDestroyed) &#123;</span><br><span class="line">            this.ensureExecReady(allowStateLoss);</span><br><span class="line">            if (action.generateOps(this.mTmpRecords, this.mTmpIsPop)) &#123;</span><br><span class="line">                this.mExecutingActions = true;</span><br><span class="line"></span><br><span class="line">                try &#123;</span><br><span class="line">                    this.removeRedundantOperationsAndExecute(this.mTmpRecords, this.mTmpIsPop);</span><br><span class="line">                &#125; finally &#123;</span><br><span class="line">                    this.cleanupExec();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            this.doPendingDeferredStart();</span><br><span class="line">            this.burpActive();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p> 官方更推荐使用commitNow（）和commitNowAllowingStateLoss()来代替先执行commit（）/commitAllowingStateLoss()</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

            
    
        <a href="http://b.nearby.ren/2021/05/17/Fragment的FragmentTransaction/#comments" class="article-comment-link">评论</a>
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
    </nav>
</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2023/11/30/kotlin data class 和 class 区别/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/kotlin/">kotlin</a></p>
                            <p class="item-title"><a href="/2023/11/30/kotlin data class 和 class 区别/" class="title">kotlin data class 和 class 区别</a></p>
                            <p class="item-date"><time datetime="2023-11-30T04:13:18.000Z" itemprop="datePublished">2023-11-30</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2023/09/30/kotlin集合/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/kotlin/">kotlin</a></p>
                            <p class="item-title"><a href="/2023/09/30/kotlin集合/" class="title">Kotlin 集合</a></p>
                            <p class="item-date"><time datetime="2023-09-30T04:20:20.000Z" itemprop="datePublished">2023-09-30</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/06/08/组件化架构图/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2021/06/08/组件化架构图/" class="title">组件化架构图</a></p>
                            <p class="item-date"><time datetime="2021-06-08T08:03:12.000Z" itemprop="datePublished">2021-06-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/05/31/mac flutter 支持多个版本配置/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/android/">android</a></p>
                            <p class="item-title"><a href="/2021/05/31/mac flutter 支持多个版本配置/" class="title">mac flutter 支持多个版本配置</a></p>
                            <p class="item-date"><time datetime="2021-05-31T01:47:42.000Z" itemprop="datePublished">2021-05-31</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2021/05/17/Fragment的FragmentTransaction/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Fragment/">Fragment</a></p>
                            <p class="item-title"><a href="/2021/05/17/Fragment的FragmentTransaction/" class="title">Android 7.0以上 charles OpenSSLhttps抓包</a></p>
                            <p class="item-date"><time datetime="2021-05-17T01:12:11.000Z" itemprop="datePublished">2021-05-17</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/EventBus/">EventBus</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Fragment/">Fragment</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/RecyclerView/">RecyclerView</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/android/">android</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/android-studio/">android studio</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/apk/">apk</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/bug/">bug</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/charles/">charles</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/dagger2/">dagger2</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/go/">go</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gradle/">gradle</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/kotlin/">kotlin</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linxu/">linxu</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mac/">mac</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/markdown/">markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mvp/">mvp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/offce/">offce</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/resume/">resume</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/rxjava/">rxjava</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spring/">spring</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/tinker/">tinker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vuforia/">vuforia</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/延迟搜索/">延迟搜索</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/性能优化/">性能优化</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/文字/">文字</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件/">软件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/适配/">适配</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Leakcanary/">Leakcanary</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac-Linux/">Mac/Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a><span class="tag-list-count">46</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-studio/">android studio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bug/">bug</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/charles/">charles</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dagger2/">dagger2</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flutter/">flutter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/glide/">glide</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/">go</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/golang/">golang</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/h5/">h5</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/">https</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios/">ios</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kotlin/">kotlin</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linxu/">linxu</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mvp/">mvp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/offce/">offce</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/resume/">resume</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rxandroid/">rxandroid</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rxjava/">rxjava</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/service/">service</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/">springboot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/view/">view</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vuforia/">vuforia</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/延迟/">延迟</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/性能优化/">性能优化</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文字/">文字</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/歌曲/">歌曲</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/直播/">直播</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔录/">笔录</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件名词/">软件名词</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Android/" style="font-size: 16.67px;">Android</a> <a href="/tags/Leakcanary/" style="font-size: 10px;">Leakcanary</a> <a href="/tags/Mac-Linux/" style="font-size: 10px;">Mac/Linux</a> <a href="/tags/android/" style="font-size: 20px;">android</a> <a href="/tags/android-studio/" style="font-size: 10px;">android studio</a> <a href="/tags/bug/" style="font-size: 10px;">bug</a> <a href="/tags/charles/" style="font-size: 10px;">charles</a> <a href="/tags/dagger2/" style="font-size: 11.67px;">dagger2</a> <a href="/tags/flutter/" style="font-size: 10px;">flutter</a> <a href="/tags/git/" style="font-size: 16.67px;">git</a> <a href="/tags/glide/" style="font-size: 15px;">glide</a> <a href="/tags/go/" style="font-size: 18.33px;">go</a> <a href="/tags/golang/" style="font-size: 10px;">golang</a> <a href="/tags/gradle/" style="font-size: 16.67px;">gradle</a> <a href="/tags/h5/" style="font-size: 10px;">h5</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/https/" style="font-size: 11.67px;">https</a> <a href="/tags/ios/" style="font-size: 11.67px;">ios</a> <a href="/tags/java/" style="font-size: 11.67px;">java</a> <a href="/tags/kotlin/" style="font-size: 13.33px;">kotlin</a> <a href="/tags/linxu/" style="font-size: 11.67px;">linxu</a> <a href="/tags/mac/" style="font-size: 11.67px;">mac</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/mvp/" style="font-size: 13.33px;">mvp</a> <a href="/tags/offce/" style="font-size: 11.67px;">offce</a> <a href="/tags/resume/" style="font-size: 11.67px;">resume</a> <a href="/tags/rxandroid/" style="font-size: 11.67px;">rxandroid</a> <a href="/tags/rxjava/" style="font-size: 11.67px;">rxjava</a> <a href="/tags/service/" style="font-size: 10px;">service</a> <a href="/tags/springboot/" style="font-size: 10px;">springboot</a> <a href="/tags/view/" style="font-size: 11.67px;">view</a> <a href="/tags/vuforia/" style="font-size: 10px;">vuforia</a> <a href="/tags/web/" style="font-size: 13.33px;">web</a> <a href="/tags/延迟/" style="font-size: 10px;">延迟</a> <a href="/tags/性能优化/" style="font-size: 10px;">性能优化</a> <a href="/tags/文字/" style="font-size: 11.67px;">文字</a> <a href="/tags/歌曲/" style="font-size: 11.67px;">歌曲</a> <a href="/tags/直播/" style="font-size: 10px;">直播</a> <a href="/tags/笔录/" style="font-size: 13.33px;">笔录</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a> <a href="/tags/设计模式/" style="font-size: 13.33px;">设计模式</a> <a href="/tags/软件名词/" style="font-size: 10px;">软件名词</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2023 阿荣<br>
            <!-- <a href="http://github.com/ppoffice">ppoffice</a>     
            主题 - <a href="http://hexo.io/" target="_blank">Hexo</a> -->  
             <a href="#" target="_blank">人生如逆旅  &phi; 我亦是行人 </a>
             <div class="copyright" style="margin-top: 10px;">
 			ICP备案号： <a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备16067940号</a><br>
		</div>	
        </div>
    </div>
</footer>
        
    
    <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2119666"></script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>